<!DOCTYPE html>
<html>
    <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Exec Ed Zoom Virtual Background Generator</title>
    
    <script src="canvas2image.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="header">
  
    <h1>Exec Ed Zoom Virtual Background Generator</h1>
    </div>
<div class="doc">

    <canvas width="1920" height="1080" id="cvshd"></canvas>
    <canvas width="1600" height="1200" id="cvs"></canvas>

    <p>
        This is a demo site for exec ed use only based on the <a href="https://webassets.hbs.edu/libs/zoom/virtual-background-generator/">HBS zoom background generator</a>.
    </p>

    <div>
        <p>
            </p><table>
                <tbody><tr>
                    <th>
                        Full Name: 
                    </th>
                    <td>
                        <input type="text" id="first" tabindex="1">
                    </td>
                    <td rowspan="2">
                        <button id="createimage" tabindex="3">Save Image</button>

                        <div id="ratioOptions">
                            <input type="radio" id="optionHD" name="imageStyle" value="HD" checked="checked">
                            <label for="optionHD">HD</label>
                            <input type="radio" id="option43" name="imageStyle" value="43">
                            <label for="option43">4:3</label>
                            <div id="ratioTooltip">Leave the ratio as HD by default.  ONLY choose 4:3 if you are  
                                                   using the lower ratio video in Zoom and your name is being cut off.
                            </div>
                       </div>

 
                    </td>
                </tr>
                <tr>
                    <th>
                        Title/Organization:
                    </th>
                    <td>
                        <input type="text" id="last" tabindex="2">
                    </td>
                </tr>
                <tr>
                  
                    <td>
                        <input hidden type="text" id="pronouns" tabindex="3">
                    </td>
                </tr>                  
            </tbody></table>
           
        <p></p>

    </div>
    
    <div id="imgs" width="800" height="600">
        
    </div>
    <div id="explanation" style="display:none">

        <p>
            After you are happy with your new virtual background use the "Save" button to save it to your local machine. Set it as your virtual background in your Zoom settings. 
            </p>
        <h2>Virtual Background Instructions</h2>
        <ol>
            <li>In the Zoom desktop client, click the profile icon in the top right corner &gt;&nbsp;Settings</li>
            <li>On the&nbsp;Virtual&nbsp;Backgrounds&nbsp;tab, click&nbsp;+&nbsp;icon &gt;&nbsp;Add Image&nbsp;then select the background image file from your computer </li>
            <!-- <li>Make sure that "Mirror my video" is not selected</li> -->
        </ol>&nbsp;
        <img style="max-width:600px; width: 100%;" src="zoom.png" alt="zoom instructions">
    </div>
    <a id="downloadlink" download="zoombackground.jpg" href="https://webassets.hbs.edu/libs/zoom/virtual-background-generator/">Download Background</a>

</div>


<div class="universal-footer-copyright" style="    position: fixed;
bottom: 0;
left: 0;
right: 0;
font-size: 12px;">
    <div class="container tablet-container mobile-container nu">
      <div class="shim12"></div>
      <div>
        <ul class="linear footer-links">
          <li><a class="footer-harvard ext" data-link-id="footer-harvard" href="http://www.harvard.edu/" target="_blank" rel="noopener noreferrer">Harvard University</a></li>
          <li><a class="footer-trademarks ext" data-link-id="footer-trademarks" href="http://trademark.harvard.edu/pages/trademark-notice/" target="_blank" rel="noopener noreferrer">Trademarks</a></li>
          <li><a class="footer-policy" data-link-id="footer-policy" href="https://www.hbs.edu/about/campus-and-culture/policies/Pages/default.aspx">Policies</a></li>
          <li><a class="footer-accessibility ext" data-link-id="footer-accessibility" href="http://accessibility.huit.harvard.edu/digital-accessibility-policy" target="_blank" rel="noopener noreferrer">Digital Accessibility</a></li>
        </ul>
        <div class="shim12"></div>
        <div class="copy-msg">Copyright © President &amp; Fellows of Harvard College</div>
      </div>
    </div>
  </div>

<script>
    var canvas, canvashd, ctxorig, ctxhd,
        $createhd, $createorig, $createimage, $optionHD, $option43,
        $imgs,
        $placeLeft, $placeRight,
        $nameTxt, $first, $last, $pronouns,
        $radialParm;

        var imgObj = new Image();
        //Set the src of this Image object.
        imgObj.src = "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI1LjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA1NzYgMTU3IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1NzYgMTU3OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2NsaXAtcGF0aDp1cmwoI1NWR0lEXzJfKTt9Cgkuc3Qxe2VuYWJsZS1iYWNrZ3JvdW5kOm5ldyAgICA7fQoJLnN0MntmaWxsOiNGRkZGRkY7fQoJLnN0M3tmaWxsOm5vbmU7fQo8L3N0eWxlPgo8Zz4KCTxkZWZzPgoJCTxyZWN0IGlkPSJTVkdJRF8xXyIgd2lkdGg9IjU3NiIgaGVpZ2h0PSIxNTciLz4KCTwvZGVmcz4KCTxjbGlwUGF0aCBpZD0iU1ZHSURfMl8iPgoJCTx1c2UgeGxpbms6aHJlZj0iI1NWR0lEXzFfIiAgc3R5bGU9Im92ZXJmbG93OnZpc2libGU7Ii8+Cgk8L2NsaXBQYXRoPgoJPGcgaWQ9IkV4ZWMtZWQiIGNsYXNzPSJzdDAiPgoJCTxnIGNsYXNzPSJzdDEiPgoJCQk8cGF0aCBjbGFzcz0ic3QyIiBkPSJNMzMuMiw2MS4xVjQ2LjNoLTkuNnYxNC45SDE3VjI3LjhoNi43djEzaDkuNnYtMTNoNi44djMzLjRIMzMuMnoiLz4KCQkJPHBhdGggY2xhc3M9InN0MiIgZD0iTTY1LDYxLjFsLTIuNC03LjloLTkuOGwtMi40LDcuOWgtN2wxMC45LTMzLjVoNy4ybDEwLjUsMzMuNUg2NXogTTU5LjIsNDAuOWMtMC4zLTEuNS0xLjMtNS45LTEuMy01LjkKCQkJCXMtMSwzLjktMS42LDYuNGMtMC42LDIuNC0xLjEsNC0xLjgsNi4ySDYxQzYxLDQ3LjcsNTkuOSw0NC4yLDU5LjIsNDAuOXoiLz4KCQkJPHBhdGggY2xhc3M9InN0MiIgZD0iTTkyLDYxLjFjLTEuMy0yLjItMS44LTMuMS0zLjEtNS41Yy0zLjMtNi00LjMtNy42LTUuNS04LjJjLTAuMy0wLjEtMC42LTAuMi0xLjEtMC4zdjEzLjloLTYuNlYyNy44aDEyLjQKCQkJCWM1LjksMCw5LjgsMy45LDkuOCw5LjhjMCw1LTMuMyw5LjEtNy40LDkuMmMwLjcsMC41LDEsMC44LDEuNCwxLjRjMS45LDIuNCw4LDEzLDgsMTNIOTJ6IE04OC40LDMzLjZjLTAuOC0wLjMtMi4yLTAuNS0zLjgtMC41CgkJCQloLTIuNHY5aDIuM2MyLjksMCw0LjEtMC4zLDUtMS4xYzAuOC0wLjgsMS4zLTIsMS4zLTMuNEM5MC44LDM1LjcsOTAsMzQuMiw4OC40LDMzLjZ6Ii8+CgkJCTxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik0xMTYuMyw2MS40aC02LjFMOTguOSwyNy44aDcuM2w1LjUsMTcuNGMwLjUsMS41LDEsMy40LDEuNSw1LjhjMC40LTIuMSwxLjMtNC44LDEuOS02LjdsNS43LTE2LjVoNy4xCgkJCQlMMTE2LjMsNjEuNHoiLz4KCQkJPHBhdGggY2xhc3M9InN0MiIgZD0iTTE0Ny4xLDYxLjFsLTIuNC03LjlIMTM1bC0yLjQsNy45aC03bDEwLjktMzMuNWg3LjJsMTAuNSwzMy41SDE0Ny4xeiBNMTQxLjMsNDAuOUMxNDEsMzkuNCwxNDAsMzUsMTQwLDM1CgkJCQlzLTEsMy45LTEuNiw2LjRjLTAuNiwyLjQtMS4xLDQtMS44LDYuMmg2LjVDMTQzLjIsNDcuNywxNDIuMSw0NC4yLDE0MS4zLDQwLjl6Ii8+CgkJCTxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik0xNzQuMSw2MS4xYy0xLjMtMi4yLTEuOC0zLjEtMy4xLTUuNWMtMy4zLTYtNC4zLTcuNi01LjUtOC4yYy0wLjMtMC4xLTAuNi0wLjItMS4xLTAuM3YxMy45aC02LjZWMjcuOGgxMi40CgkJCQljNS45LDAsOS44LDMuOSw5LjgsOS44YzAsNS0zLjMsOS4xLTcuNCw5LjJjMC43LDAuNSwxLDAuOCwxLjQsMS40YzEuOSwyLjQsOCwxMyw4LDEzSDE3NC4xeiBNMTcwLjYsMzMuNgoJCQkJYy0wLjgtMC4zLTIuMi0wLjUtMy44LTAuNWgtMi40djloMi4zYzIuOSwwLDQuMS0wLjMsNS0xLjFjMC44LTAuOCwxLjMtMiwxLjMtMy40QzE3MywzNS43LDE3Mi4yLDM0LjIsMTcwLjYsMzMuNnoiLz4KCQkJPHBhdGggY2xhc3M9InN0MiIgZD0iTTIwNy4zLDU2LjJjLTIsMi43LTUsNC42LTguMSw0LjhjLTEuMiwwLjEtMi44LDAuMi00LjgsMC4yaC04LjFWMjcuOGg2LjdjMS45LDAsNC41LDAuMSw1LjgsMC4yCgkJCQljMi44LDAuMiw1LjMsMS4zLDcuMywzLjNjMy4xLDMsNC42LDcuMyw0LjYsMTMuM0MyMTAuNyw0OS4xLDIwOS42LDUzLjEsMjA3LjMsNTYuMnogTTIwMS41LDM1LjljLTEuMS0xLjgtMi42LTIuOC01LjMtMi44aC0zLjEKCQkJCXYyMi42aDMuNmM0LjQsMCw2LjQtMy40LDYuNC0xMC41QzIwMy4yLDQxLjMsMjAyLjgsMzguMSwyMDEuNSwzNS45eiIvPgoJCTwvZz4KCQk8ZyBjbGFzcz0ic3QxIj4KCQkJPHBhdGggY2xhc3M9InN0MiIgZD0iTTIyNC4xLDYxLjRWMjguMmg1LjZ2MzMuMkgyMjQuMXogTTI0MSw2MS40bC0xMS4yLTE3LjdsMTAuOC0xNS41aDYuOGwtMTEuNSwxNS40bDEyLjMsMTcuOEgyNDF6Ii8+CgkJCTxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik0yNTQuOSw1MC43djAuNGMwLDMuNCwxLjIsNi45LDYsNi45YzIuMywwLDQuMi0wLjgsNi0yLjRsMi4xLDMuMmMtMi41LDIuMi01LjUsMy4yLTguNywzLjIKCQkJCWMtNi45LDAtMTEuMi00LjktMTEuMi0xMi43YzAtNC4zLDAuOS03LjEsMy05LjVjMi0yLjMsNC40LTMuMyw3LjQtMy4zYzIuNCwwLDQuNiwwLjYsNi43LDIuNWMyLjEsMS45LDMuMiw0LjksMy4yLDEwLjZ2MS4xCgkJCQlIMjU0Ljl6IE0yNTkuNiw0MC41Yy0zLDAtNC42LDIuNC00LjYsNi4zaDlDMjY0LDQyLjksMjYyLjIsNDAuNSwyNTkuNiw0MC41eiIvPgoJCQk8cGF0aCBjbGFzcz0ic3QyIiBkPSJNMjg4LjUsNjEuNFY0NS4zYzAtMy4zLTAuOC00LjItMi44LTQuMmMtMS41LDAtMy43LDEuMi01LjMsMi43djE3LjZoLTUuMlY0My41YzAtMi41LTAuMi00LTAuOS01LjhsNC44LTEuMwoJCQkJYzAuNiwxLjEsMC45LDIuMiwwLjksMy41YzIuNi0yLjIsNC44LTMuNCw3LjQtMy40YzMuNywwLDYuMywyLjMsNi4zLDYuN3YxOC4xSDI4OC41eiIvPgoJCQk8cGF0aCBjbGFzcz0ic3QyIiBkPSJNMzE0LjcsNjEuNFY0NS4zYzAtMy4zLTAuOC00LjItMi44LTQuMmMtMS41LDAtMy43LDEuMi01LjMsMi43djE3LjZoLTUuMlY0My41YzAtMi41LTAuMi00LTAuOS01LjhsNC44LTEuMwoJCQkJYzAuNiwxLjEsMC45LDIuMiwwLjksMy41YzIuNi0yLjIsNC44LTMuNCw3LjQtMy40YzMuNywwLDYuMywyLjMsNi4zLDYuN3YxOC4xSDMxNC43eiIvPgoJCQk8cGF0aCBjbGFzcz0ic3QyIiBkPSJNMzMyLDUwLjd2MC40YzAsMy40LDEuMiw2LjksNiw2LjljMi4zLDAsNC4yLTAuOCw2LTIuNGwyLjEsMy4yYy0yLjUsMi4yLTUuNSwzLjItOC43LDMuMgoJCQkJYy02LjksMC0xMS4yLTQuOS0xMS4yLTEyLjdjMC00LjMsMC45LTcuMSwzLTkuNWMyLTIuMyw0LjQtMy4zLDcuNC0zLjNjMi40LDAsNC42LDAuNiw2LjcsMi41YzIuMSwxLjksMy4yLDQuOSwzLjIsMTAuNnYxLjFIMzMyegoJCQkJIE0zMzYuNiw0MC41Yy0zLDAtNC42LDIuNC00LjYsNi4zaDlDMzQxLDQyLjksMzM5LjMsNDAuNSwzMzYuNiw0MC41eiIvPgoJCQk8cGF0aCBjbGFzcz0ic3QyIiBkPSJNMzY3LjEsNjEuNGMtMC4yLTAuNS0wLjMtMC45LTAuNC0xLjljLTEuNiwxLjYtMy42LDIuNC02LDIuNGMtNi4yLDAtOS45LTQuOC05LjktMTIuNAoJCQkJYzAtNy42LDQuMi0xMi44LDEwLjEtMTIuOGMyLjEsMCwzLjcsMC43LDUuMiwyLjJjMCwwLTAuMS0xLjktMC4xLTRWMjZsNS4yLDAuOHYyNi4xYzAsNC44LDAuMyw3LjIsMC44LDguNEgzNjcuMXogTTM2Niw0Mi45CgkJCQljLTEuMi0xLjMtMi42LTItNC40LTJjLTMuNCwwLTQuOSwyLjctNC45LDguNWMwLDUuNCwxLjEsOC4xLDUsOC4xYzIsMCwzLjYtMS4xLDQuMy0yLjNWNDIuOXoiLz4KCQkJPHBhdGggY2xhc3M9InN0MiIgZD0iTTM4OS40LDYxLjljLTIsNS45LTMuNyw4LjgtOS41LDkuOGwtMS43LTMuNGMzLjMtMC45LDUuMi0yLjMsNi42LTdoLTEuN2MtMC43LTIuNy0xLjYtNS40LTIuMy03LjUKCQkJCWwtNS41LTE2LjRsNS40LTAuOWw0LjUsMTQuOGMwLjQsMS40LDEuMiw1LjEsMS4zLDUuNWMwLTAuMiwwLjktMy42LDEuOC02LjZsNC0xMy4yaDUuN0wzODkuNCw2MS45eiIvPgoJCQk8cGF0aCBjbGFzcz0ic3QyIiBkPSJNNDIwLjYsNjJjLTMuOCwwLTcuNi0xLTEwLjktM2wyLjEtNC4yYzMsMS43LDUuNiwyLjcsOSwyLjdjNC4xLDAsNi41LTIsNi41LTUuM2MwLTIuNC0xLjUtNC00LjktNC45bC0zLjYtMQoJCQkJYy0zLTAuOS01LjItMi4xLTYuNC00Yy0wLjktMS4zLTEuNC0yLjktMS40LTQuOGMwLTUuOSw0LjYtOS44LDExLjMtOS44YzMuOCwwLDcuNiwxLjEsMTAuNSwzLjJsLTIuNSwzLjkKCQkJCWMtMy4xLTEuOC01LjItMi41LTcuOC0yLjVjLTMuMywwLTUuNCwxLjgtNS40LDQuNWMwLDIuMSwxLjIsMy4xLDQuNCw0LjFsMy45LDEuMmM0LjgsMS40LDguMiw0LjUsOC4yLDkuNQoJCQkJQzQzMy42LDU2LjksNDI5LjEsNjIsNDIwLjYsNjJ6Ii8+CgkJCTxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik00NDguNSw2MmMtNi42LDAtMTAuMy00LjctMTAuMy0xMi41YzAtOC44LDUuMy0xMy4xLDEwLjctMTMuMWMyLjYsMCw0LjYsMC42LDYuNywyLjZsLTIuNiwzLjUKCQkJCWMtMS40LTEuMy0yLjctMS45LTQuMS0xLjljLTEuNywwLTMuMSwwLjktMy44LDIuNGMtMC43LDEuNS0xLDMuNy0xLDYuOGMwLDMuMywwLjUsNS40LDEuNiw2LjZjMC44LDAuOSwxLjksMS40LDMuMiwxLjQKCQkJCWMxLjcsMCwzLjMtMC44LDQuOS0yLjRsMi41LDMuMkM0NTQsNjEsNDUxLjcsNjIsNDQ4LjUsNjJ6Ii8+CgkJCTxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik00NzQuNiw2MS40VjQ0LjljMC0zLTEuMS0zLjktMy4xLTMuOWMtMS45LDAtNC4xLDEuMi01LjksM3YxNy40aC01LjNWMzIuNWMwLTIuMi0wLjItNC0wLjUtNS4zbDUuMy0xLjIKCQkJCWMwLjMsMS40LDAuNSwzLjQsMC41LDUuN1YzN2MwLDEuNS0wLjEsMi43LTAuMSwyLjdjMi40LTIuMiw0LjgtMy4yLDcuNC0zLjJjMi45LDAsNS4xLDEuNCw1LjksM2MwLjYsMS4yLDAuOCwyLjMsMC44LDQuOHYxNy4xCgkJCQlINDc0LjZ6Ii8+CgkJCTxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik00OTYuNCw2MmMtNi42LDAtMTAuNy00LjktMTAuNy0xMi43YzAtNy44LDQuMi0xMi44LDEwLjYtMTIuOGM2LjksMCwxMC44LDUuMSwxMC44LDEyLjgKCQkJCUM1MDcuMiw1Ny4yLDUwMyw2Miw0OTYuNCw2MnogTTQ5Ni40LDQwLjVjLTMuNCwwLTQuOCwyLjUtNC44LDguNGMwLDcuMSwxLjgsOS4xLDQuOSw5LjFjMy4xLDAsNC44LTIuNSw0LjgtOC42CgkJCQlDNTAxLjQsNDIuNiw0OTkuNSw0MC41LDQ5Ni40LDQwLjV6Ii8+CgkJCTxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik01MjIuMiw2MmMtNi42LDAtMTAuNy00LjktMTAuNy0xMi43YzAtNy44LDQuMi0xMi44LDEwLjYtMTIuOGM2LjksMCwxMC44LDUuMSwxMC44LDEyLjgKCQkJCUM1MzMsNTcuMiw1MjguOCw2Miw1MjIuMiw2MnogTTUyMi4yLDQwLjVjLTMuNCwwLTQuOCwyLjUtNC44LDguNGMwLDcuMSwxLjgsOS4xLDQuOSw5LjFjMy4xLDAsNC44LTIuNSw0LjgtOC42CgkJCQlDNTI3LjEsNDIuNiw1MjUuMiw0MC41LDUyMi4yLDQwLjV6Ii8+CgkJCTxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik01NDQsNjEuOWMtNS4zLDAtNS4zLTQuOC01LjMtNi45VjM0LjRjMC0zLjMtMC4xLTUuMS0wLjUtNy4xbDUuNC0xLjJjMC40LDEuNSwwLjQsMy41LDAuNCw2Ljd2MjAuNgoJCQkJYzAsMy4zLDAuMSwzLjgsMC41LDQuNGMwLjMsMC40LDEuMSwwLjcsMS43LDAuNGwwLjksMy4zQzU0Ni4zLDYxLjcsNTQ1LjIsNjEuOSw1NDQsNjEuOXoiLz4KCQk8L2c+CgkJPGcgY2xhc3M9InN0MSI+CgkJCTxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik0xNy4yLDExNi42Vjg3LjVoMTYuMWwtMC42LDMuOUgyMnY3LjlIMzF2NGgtOC45djkuMWgxMS42djQuMUgxNy4yeiIvPgoJCQk8cGF0aCBjbGFzcz0ic3QyIiBkPSJNNDkuNSwxMTYuNmMtMC44LTEuMi00LjItNy4yLTQuNi03LjljLTAuOCwxLjYtMy44LDYuOC00LjYsNy45aC01LjhsNy45LTExLjVsLTYuMS05LjFsNS0xCgkJCQljMSwxLjYsMi45LDQuOSwzLjksNi45YzAuNi0xLjQsMi43LTUuNiwzLjQtNi41aDUuNGwtNi4zLDkuN2w3LjgsMTEuNkg0OS41eiIvPgoJCQk8cGF0aCBjbGFzcz0ic3QyIiBkPSJNNjEuNiwxMDcuMnYwLjNjMCwyLjksMS4xLDYsNS4zLDZjMiwwLDMuNy0wLjcsNS4zLTIuMWwxLjgsMi44Yy0yLjIsMS45LTQuOCwyLjgtNy42LDIuOAoJCQkJYy02LDAtOS44LTQuMy05LjgtMTEuMWMwLTMuNywwLjgtNi4yLDIuNi04LjNjMS43LTIsMy44LTIuOSw2LjUtMi45YzIuMSwwLDQsMC41LDUuOCwyLjJjMS44LDEuNywyLjgsNC4zLDIuOCw5LjJ2MUg2MS42egoJCQkJIE02NS43LDk4LjNjLTIuNiwwLTQsMi4xLTQsNS41aDcuOUM2OS41LDEwMC4zLDY4LDk4LjMsNjUuNyw5OC4zeiIvPgoJCQk8cGF0aCBjbGFzcz0ic3QyIiBkPSJNODcuMSwxMTcuMWMtNS44LDAtOS00LjEtOS0xMC45YzAtNy43LDQuNi0xMS40LDkuNC0xMS40YzIuMywwLDQsMC41LDUuOSwyLjNsLTIuMywzLjEKCQkJCWMtMS4zLTEuMS0yLjQtMS42LTMuNi0xLjZjLTEuNSwwLTIuNywwLjgtMy40LDIuMWMtMC42LDEuMy0wLjksMy4zLTAuOSw1LjljMCwyLjksMC41LDQuNywxLjQsNS44YzAuNywwLjgsMS43LDEuMiwyLjgsMS4yCgkJCQljMS41LDAsMi45LTAuNyw0LjMtMi4xbDIuMiwyLjhDOTIsMTE2LjIsODkuOSwxMTcuMSw4Ny4xLDExNy4xeiIvPgoJCQk8cGF0aCBjbGFzcz0ic3QyIiBkPSJNMTEyLjUsMTE3LjJjLTAuOS0wLjctMS41LTEuNC0xLjgtMi42Yy0xLjYsMS44LTMuNiwyLjYtNiwyLjZjLTIuNCwwLTQuMi0wLjgtNS4zLTIuMWMtMC44LTEtMS4yLTIuNC0xLjItNQoJCQkJVjk1LjZsNC41LTAuOFYxMDljMCwyLjYsMC40LDQuNiwzLjEsNC42YzEuNiwwLDMuNC0xLjMsNC4yLTIuOFY5NS42bDQuNS0wLjh2MTZjMCwzLjIsMS4zLDQuMiwxLjMsNC4yTDExMi41LDExNy4yeiIvPgoJCQk8cGF0aCBjbGFzcz0ic3QyIiBkPSJNMTI2LjYsMTE3LjFjLTQuMSwwLTUuNS0yLjQtNS41LTUuNVY5OC41aC0yLjR2LTMuMmgyLjRjMC0xLjgsMC0zLjcsMC4yLTUuM2w0LjctMS4xCgkJCQljLTAuMiwxLjctMC40LDQuMy0wLjQsNi40aDUuMWwtMS4yLDMuMmgtMy45djExLjljMCwyLjYsMC42LDMuNCwyLjYsMy40YzAuNiwwLDEuMi0wLjEsMi0wLjRsMC42LDIuOAoJCQkJQzEyOS40LDExNi44LDEyOCwxMTcuMSwxMjYuNiwxMTcuMXoiLz4KCQkJPHBhdGggY2xhc3M9InN0MiIgZD0iTTEzNy4zLDkyLjFjLTEuNywwLTMtMS40LTMtMy4xYzAtMS43LDEuMy0zLjEsMy4xLTMuMWMxLjYsMCwzLDEuMywzLDMuMUMxNDAuNCw5MC44LDEzOSw5Mi4xLDEzNy4zLDkyLjF6CgkJCQkgTTEzNSwxMTYuNlY5NS42bDQuNy0wLjh2MjEuOEgxMzV6Ii8+CgkJCTxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik0xNTQuOSwxMTYuNmgtNC4xbC03LjYtMjEuMmw0LjctMC43bDMuNywxMS41YzAuNywyLjIsMS4zLDQuNywxLjMsNC43aDAuMWMwLDAsMC41LTIuNSwxLjMtNC45bDMuNS0xMC44CgkJCQloNC44TDE1NC45LDExNi42eiIvPgoJCQk8cGF0aCBjbGFzcz0ic3QyIiBkPSJNMTY5LjgsMTA3LjJ2MC4zYzAsMi45LDEuMSw2LDUuMyw2YzIsMCwzLjctMC43LDUuMy0yLjFsMS44LDIuOGMtMi4yLDEuOS00LjgsMi44LTcuNiwyLjgKCQkJCWMtNiwwLTkuOC00LjMtOS44LTExLjFjMC0zLjcsMC44LTYuMiwyLjYtOC4zYzEuNy0yLDMuOC0yLjksNi41LTIuOWMyLjEsMCw0LDAuNSw1LjgsMi4yYzEuOCwxLjcsMi44LDQuMywyLjgsOS4ydjFIMTY5Ljh6CgkJCQkgTTE3My45LDk4LjNjLTIuNiwwLTQsMi4xLTQsNS41aDcuOUMxNzcuNywxMDAuMywxNzYuMiw5OC4zLDE3My45LDk4LjN6Ii8+CgkJCTxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik0xOTcsMTE2LjZWODcuNWgxNi4xbC0wLjYsMy45aC0xMC43djcuOWg4Ljl2NGgtOC45djkuMWgxMS42djQuMUgxOTd6Ii8+CgkJCTxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik0yMzAuNiwxMTYuNmMtMC4yLTAuNS0wLjMtMC44LTAuNC0xLjZjLTEuNCwxLjQtMy4xLDIuMS01LjIsMi4xYy01LjQsMC04LjctNC4yLTguNy0xMC45CgkJCQljMC02LjcsMy43LTExLjIsOC44LTExLjJjMS44LDAsMy4zLDAuNiw0LjYsMS45YzAsMC0wLjEtMS42LTAuMS0zLjV2LTcuOGw0LjYsMC43djIyLjljMCw0LjIsMC4zLDYuMywwLjcsNy40SDIzMC42egoJCQkJIE0yMjkuNiwxMDAuM2MtMS0xLjEtMi4zLTEuNy0zLjktMS43Yy0yLjksMC00LjMsMi40LTQuMyw3LjVjMCw0LjcsMC45LDcuMSw0LjQsNy4xYzEuNywwLDMuMS0xLDMuNy0yVjEwMC4zeiIvPgoJCQk8cGF0aCBjbGFzcz0ic3QyIiBkPSJNMjU1LDExNy4yYy0wLjktMC43LTEuNS0xLjQtMS44LTIuNmMtMS42LDEuOC0zLjYsMi42LTYsMi42Yy0yLjQsMC00LjItMC44LTUuMy0yLjFjLTAuOC0xLTEuMi0yLjQtMS4yLTUKCQkJCVY5NS42bDQuNS0wLjhWMTA5YzAsMi42LDAuNCw0LjYsMy4xLDQuNmMxLjYsMCwzLjQtMS4zLDQuMi0yLjhWOTUuNmw0LjUtMC44djE2YzAsMy4yLDEuMyw0LjIsMS4zLDQuMkwyNTUsMTE3LjJ6Ii8+CgkJCTxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik0yNzEuNCwxMTcuMWMtNS44LDAtOS00LjEtOS0xMC45YzAtNy43LDQuNi0xMS40LDkuNC0xMS40YzIuMywwLDQsMC41LDUuOSwyLjNsLTIuMywzLjEKCQkJCWMtMS4zLTEuMS0yLjQtMS42LTMuNi0xLjZjLTEuNSwwLTIuNywwLjgtMy40LDIuMWMtMC42LDEuMy0wLjksMy4zLTAuOSw1LjljMCwyLjksMC41LDQuNywxLjQsNS44YzAuNywwLjgsMS43LDEuMiwyLjgsMS4yCgkJCQljMS41LDAsMi45LTAuNyw0LjMtMi4xbDIuMiwyLjhDMjc2LjMsMTE2LjIsMjc0LjIsMTE3LjEsMjcxLjQsMTE3LjF6Ii8+CgkJCTxwYXRoIGNsYXNzPSJzdDIiIGQ9Ik0yOTYuNSwxMTcuNGMtMS4zLTAuNS0yLjQtMS41LTIuOS0yLjljLTEuNywxLjktMy42LDIuNi01LjgsMi42Yy00LjksMC03LjEtMi43LTcuMS02LjQKCQkJCWMwLTQuOSwzLjctNy40LDEwLjUtNy40aDEuNHYtMS4xYzAtMi40LTAuNC0zLjctMi45LTMuN2MtMy4xLDAtNi4zLDIuNC02LjMsMi40bC0yLjEtMy4zYzMuMi0yLDUuOC0yLjksOS0yLjkKCQkJCWMzLjMsMCw1LjUsMS4yLDYuNSwzLjVjMC40LDAuOSwwLjQsMi4xLDAuMyw1LjJsLTAuMSw2LjFjMCwyLjksMC4yLDMuOCwxLjgsNC45TDI5Ni41LDExNy40eiBNMjkxLjcsMTA2LjVjLTQuNiwwLTYsMS4zLTYsNAoJCQkJYzAsMiwxLjEsMy4zLDIuOSwzLjNjMS41LDAsMi45LTAuOSwzLjgtMi4ybDAuMS01QzI5Mi42LDEwNi42LDI5Mi4xLDEwNi41LDI5MS43LDEwNi41eiIvPgoJCQk8cGF0aCBjbGFzcz0ic3QyIiBkPSJNMzA5LjQsMTE3LjFjLTQuMSwwLTUuNS0yLjQtNS41LTUuNVY5OC41aC0yLjR2LTMuMmgyLjRjMC0xLjgsMC0zLjcsMC4yLTUuM2w0LjctMS4xCgkJCQljLTAuMiwxLjctMC40LDQuMy0wLjQsNi40aDUuMWwtMS4yLDMuMmgtMy45djExLjljMCwyLjYsMC42LDMuNCwyLjYsMy40YzAuNiwwLDEuMi0wLjEsMi0wLjRsMC42LDIuOAoJCQkJQzMxMi4xLDExNi44LDMxMC44LDExNy4xLDMwOS40LDExNy4xeiIvPgoJCQk8cGF0aCBjbGFzcz0ic3QyIiBkPSJNMzIwLDkyLjFjLTEuNywwLTMtMS40LTMtMy4xYzAtMS43LDEuMy0zLjEsMy4xLTMuMWMxLjYsMCwzLDEuMywzLDMuMUMzMjMuMSw5MC44LDMyMS43LDkyLjEsMzIwLDkyLjF6CgkJCQkgTTMxNy43LDExNi42Vjk1LjZsNC43LTAuOHYyMS44SDMxNy43eiIvPgoJCQk8cGF0aCBjbGFzcz0ic3QyIiBkPSJNMzM3LDExNy4xYy01LjgsMC05LjQtNC4zLTkuNC0xMS4xYzAtNi44LDMuNy0xMS4yLDkuMy0xMS4yYzYsMCw5LjUsNC41LDkuNSwxMS4yCgkJCQlDMzQ2LjQsMTEyLjksMzQyLjcsMTE3LjEsMzM3LDExNy4xeiBNMzM3LDk4LjNjLTIuOSwwLTQuMiwyLjItNC4yLDcuNGMwLDYuMiwxLjYsOCw0LjMsOGMyLjcsMCw0LjItMi4yLDQuMi03LjYKCQkJCUMzNDEuMywxMDAuMSwzMzkuNiw5OC4zLDMzNyw5OC4zeiIvPgoJCQk8cGF0aCBjbGFzcz0ic3QyIiBkPSJNMzYzLjMsMTE2LjZ2LTE0LjFjMC0yLjktMC43LTMuNy0yLjQtMy43Yy0xLjMsMC0zLjMsMS00LjcsMi40djE1LjRoLTQuNXYtMTUuNmMwLTIuMi0wLjItMy41LTAuOC01CgkJCQlsNC4yLTEuMmMwLjUsMSwwLjgsMS45LDAuOCwzYzIuMy0xLjksNC4yLTIuOSw2LjUtMi45YzMuMywwLDUuNSwyLDUuNSw1Ljl2MTUuOUgzNjMuM3oiLz4KCQk8L2c+CgkJPGc+CgkJCTxsaW5lIGlkPSJMaW5lXzFfMV8iIGNsYXNzPSJzdDMiIHgxPSIyMi45IiB5MT0iNzYiIHgyPSI1NTQuMyIgeTI9Ijc2Ii8+CgkJPC9nPgoJCTxyZWN0IHg9IjE3LjEiIHk9Ijc0LjgiIGNsYXNzPSJzdDIiIHdpZHRoPSI1MzMuMSIgaGVpZ2h0PSIzLjgiLz4KCTwvZz4KPC9nPgo8L3N2Zz4K"


    function init () {
        canvas = document.getElementById('cvs');
        canvashd = document.getElementById('cvshd');

        ctxorig = canvas.getContext('2d');
        ctxhd = canvashd.getContext('2d');



        $createimage = document.getElementById('createimage');
        $optionHD = document.getElementById('optionHD');
        $option43 = document.getElementById('option43');


        $imgs = document.getElementById('imgs');

        $first =document.getElementById('first');
        $last = document.getElementById('last');
        $pronouns = document.getElementById('pronouns');


        var queryString = window.location.search;
        var urlParams = new URLSearchParams(queryString);
        var firstVal  = urlParams.get('first');
        var lastVal = urlParams.get('last');
        var pronouns = urlParams.get('pronouns');
        $radialParm = urlParams.get('r');

        if (firstVal){$first.value = firstVal};
        if (lastVal){$last.value = lastVal};
        if (pronouns){$pronouns.value = pronouns};
        


        bind();

        if (firstVal && lastVal && pronouns){
            updateImage();
        }
    }


    function drawHD(){
        draw(ctxhd, 1920, 1080, imgObj);
            document.getElementById('explanation').style="display:block";
            
            var type = 'jpg',
                w = 1920,
                h = 1080;
            $imgs.innerHTML = '';
            $imgs.appendChild(Canvas2Image.convertToImage(canvashd, w, h, type))
    }


    function draw43(){
        draw(ctxorig, 1600, 1200, imgObj);
            document.getElementById('explanation').style="display:block";


            var type = 'jpg',
                w = 1600,
                h = 1200;
            $imgs.innerHTML = '';
            $imgs.appendChild(Canvas2Image.convertToImage(canvas, w, h, type))
    }   

    function updateImage(){
        if ($optionHD.checked){
            drawHD();
        } else{
            draw43();
        }
    }


    function bind () {

        $createimage.onclick = function (e) {
            updateImage();
            if ($optionHD.checked){
                Canvas2Image.saveAsImage(canvashd, 1920, 1080, 'jpg');
            }else {
                Canvas2Image.saveAsImage(canvas, 1600, 1200, 'jpg');
            }
        }

        $last.oninput = function (e) {
            updateImage();
        } 
        $first.oninput = function (e) {
            updateImage();
        }
        $pronouns.oninput = function (e) {
            updateImage();
        }
        $option43.oninput = function (e) {
            updateImage();
        }
        $optionHD.oninput = function (e) {
            updateImage();
        }


    }



    function draw(ctx, w, h, imgObj) {
        // simplified version, but does first name bigger

        // another option, "spotlight" radial gradient
        var radialGrd = ctx.createRadialGradient(w/2, h*.9, 400, w/2, h*.9, h);
        radialGrd.addColorStop(0, "#a62c3d");
        radialGrd.addColorStop(1, "#A51C30");



        // radialGrd.addColorStop(0, "#eeeeee");
        // radialGrd.addColorStop(.7, "#0d667f");

        // radialGrd.addColorStop(0, "#AC162C");
        // radialGrd.addColorStop(.7, "#279287");

        // radialGrd.addColorStop(0, "#3a98c7");
        // radialGrd.addColorStop(.7, "#3684b9");

        // radialGrd.addColorStop(0, "#AC162C");
        // radialGrd.addColorStop(.7, "#00897b");
        

        ctx.fillStyle = radialGrd;
        ctx.fillRect(0,0,w,h);
        
        ctx.fillStyle = '#fff';
        ctx.font = "bold 100px franklin-gothic-urw,Arial";

        var rightMargin = w -50;
        var topMargin = 50;
        var verticalLineWidth = 8;
        
        var firstMeasurement = ctx.measureText($first.value).width;

        // last name will be smaller
        ctx.font = "bold 50px franklin-gothic-urw,Arial";

        var lastMeasurement = ctx.measureText($last.value).width;
        var pronounsMeasurement = ctx.measureText($pronouns.value).width;
        var maxWidth = firstMeasurement > lastMeasurement ? firstMeasurement : lastMeasurement;

        var firstLineBase = 160;
        var secondLineBase = 280;
        var thirdLineBase = 380;


        // if we only have a first name then we will just use one line
        if ($last.value.length == 0){
            ctx.font = "bold 110px franklin-gothic-urw,Arial";

            ctx.fillText($first.value, rightMargin-40, firstLineBase, (rightMargin*2) );
            ctx.textAlign = "right";

            ctx.fillStyle = '#fff'; // 
            ctx.fillRect(rightMargin, topMargin, verticalLineWidth, firstLineBase-30);
            if ($pronouns.value.length > 0){
                ctx.font = "bold 50px franklin-gothic-urw,Arial";
                ctx.fillText('(' + $pronouns.value + ')',  rightMargin-40, secondLineBase, (rightMargin*2) );
                ctx.fillStyle = '#fff'; // rotunda orange
                ctx.fillRect(rightMargin, topMargin, verticalLineWidth, secondLineBase - 30);
            }

        }else{

           
            maxWidth = w*.36;
           
           
            ctx.font = "bold 110px franklin-gothic-urw,Arial";

            ctx.fillText($first.value, rightMargin-40, firstLineBase, (rightMargin*2) );
            ctx.textAlign = "right";
            ctx.font = "bold 80px franklin-gothic-urw,Arial";

            ctx.fillText($last.value,  rightMargin-40, secondLineBase, (rightMargin*2) );

            if ($pronouns.value.length > 0){
                ctx.font = "bold 80px franklin-gothic-urw,Arial";
                ctx.fillText('(' + $pronouns.value + ')',  rightMargin-40, thirdLineBase, (rightMargin*2) );
                ctx.fillStyle = '#fff'
                ctx.fillRect(rightMargin, topMargin, verticalLineWidth, thirdLineBase - 30);
            }
            else {
                ctx.fillStyle = '#fff'; // rotunda orange
                ctx.fillRect(rightMargin, topMargin, verticalLineWidth, secondLineBase - 30);
            }

            
 
        }
        ctx.drawImage(imgObj,40,40,700,212);  
    }
    
    onload = init;
</script>

</body></html>